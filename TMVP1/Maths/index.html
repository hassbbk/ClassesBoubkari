<script>
fetch("pdf/liste.json")
.then(response => response.json())
.then(data => {

    function remplirCategorie(categorie, elementId) {
        const list = document.getElementById(elementId);
        if (!data[categorie]) return;

        data[categorie].forEach(file => {

            const li = document.createElement("li");

            const infoDiv = document.createElement("div");
            infoDiv.className = "doc-info";

            const titre = document.createElement("span");
            titre.textContent = file.replace(".pdf", "");

            infoDiv.appendChild(titre);

            const bouton = document.createElement("a");
            bouton.href = "pdf/" + categorie + "/" + file;
            bouton.textContent = "Télécharger";
            bouton.className = "bouton-download";
            bouton.target = "_blank";

            li.appendChild(infoDiv);
            li.appendChild(bouton);

            list.appendChild(li);
        });
    }

    remplirCategorie("Cours", "listeCours");
    remplirCategorie("Exercices", "listeExercices");
    remplirCategorie("DS", "listeDS");

})
.catch(error => {
    console.error("Erreur chargement liste.json :", error);
});
</script>

